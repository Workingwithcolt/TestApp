{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\nimport LoadingSpinner from \"./LoadingSpinneer\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { dataview } from \"../styles/Dataview\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction DataView(_ref) {\n  var queryFunction = _ref.queryFunction,\n    queryKey = _ref.queryKey,\n    getSearchableValue = _ref.getSearchableValue,\n    Card = _ref.Card,\n    DetailedElement = _ref.DetailedElement,\n    newDataButton = _ref.newDataButton,\n    dataviewTitle = _ref.dataviewTitle,\n    navigation = _ref.navigation;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchString = _useState2[0],\n    setSearchString = _useState2[1];\n  var _useState3 = useState(undefined),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedItem = _useState4[0],\n    setSelectedItem = _useState4[1];\n  var _useQuery = useQuery({\n      queryKey: queryKey,\n      queryFn: function () {\n        var _queryFn = _asyncToGenerator(function* () {\n          return yield queryFunction();\n        });\n        function queryFn() {\n          return _queryFn.apply(this, arguments);\n        }\n        return queryFn;\n      }()\n    }),\n    data = _useQuery.data,\n    isError = _useQuery.isError,\n    isLoading = _useQuery.isLoading,\n    error = _useQuery.error;\n  console.log(data);\n  if (data && searchString !== \"\") {\n    data = data.filter(function (current) {\n      console.log(current);\n      var valueToSearchIn = getSearchableValue(current).toLowerCase();\n      var valueToSearch = searchString.toLowerCase();\n      return valueToSearchIn.includes(valueToSearch);\n    });\n  }\n  if (selectedItem && DetailedElement) {\n    return _jsx(DetailedElement, {\n      item: selectedItem,\n      setSelectedItem: setSelectedItem,\n      navigation: navigation\n    });\n  }\n  if (isLoading) {\n    return _jsx(View, {\n      children: _jsx(LoadingSpinner, {})\n    });\n  }\n  if (isError) {\n    return _jsx(View, {\n      children: _jsx(View, {\n        role: \"alert\",\n        children: _jsx(Text, {\n          children: \"Something Went Wrong\"\n        })\n      })\n    });\n  }\n  console.log(data);\n  if (data) {\n    var _data;\n    return _jsxs(View, {\n      children: [_jsxs(View, {\n        style: dataview.stickyInput,\n        children: [_jsx(TextInput, {\n          style: dataview.input,\n          onChange: function onChange(e) {\n            return setSearchString(e.target.value);\n          },\n          placeholder: \"Search\"\n        }), newDataButton ? _jsx(View, {\n          style: dataview.textStyle,\n          children: _jsx(Text, {\n            children: newDataButton\n          })\n        }) : _jsx(View, {})]\n      }), _jsx(ScrollView, {\n        children: _jsx(View, {\n          style: dataview.heightAndOverflow,\n          children: _jsx(View, {\n            children: data && data.length === 0 ? _jsx(View, {\n              style: dataview.card,\n              children: _jsx(Text, {\n                style: dataview.textStyle,\n                children: \"No Data To Display\"\n              })\n            }) : _jsx(View, {\n              children: (_data = data) == null ? void 0 : _data.map(function (item, index) {\n                return _jsx(View, {\n                  style: dataview.cardContainer,\n                  children: _jsx(Card, {\n                    item: item,\n                    navigation: navigation,\n                    setSelectedItem: setSelectedItem\n                  })\n                }, index);\n              })\n            })\n          })\n        })\n      })]\n    });\n  }\n}\nexport default DataView;","map":{"version":3,"names":["useQuery","useState","LoadingSpinner","Text","TextInput","View","Button","SafeAreaView","ScrollView","dataview","jsx","_jsx","jsxs","_jsxs","DataView","_ref","queryFunction","queryKey","getSearchableValue","Card","DetailedElement","newDataButton","dataviewTitle","navigation","_useState","_useState2","_slicedToArray","searchString","setSearchString","_useState3","undefined","_useState4","selectedItem","setSelectedItem","_useQuery","queryFn","_queryFn","_asyncToGenerator","apply","arguments","data","isError","isLoading","error","console","log","filter","current","valueToSearchIn","toLowerCase","valueToSearch","includes","item","children","role","_data","style","stickyInput","input","onChange","e","target","value","placeholder","textStyle","heightAndOverflow","length","card","map","index","cardContainer"],"sources":["D:/Logingfg - Copy/src/GenericComponent/Dataview.js"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { useState } from \"react\";\r\nimport LoadingSpinner from \"./LoadingSpinneer\";\r\n// import { TextInput, View, Text, Button } from \"react-native-web\";\r\nimport { Text, TextInput, View, Button } from \"react-native\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\nimport { ScrollView } from \"react-native\";\r\nimport { dataview } from \"../styles/Dataview\";\r\n\r\n\r\nfunction DataView({ queryFunction, queryKey, getSearchableValue, Card, DetailedElement, newDataButton, dataviewTitle, navigation }) {\r\n    const [searchString, setSearchString] = useState(\"\");\r\n    const [selectedItem, setSelectedItem] = useState(undefined);\r\n\r\n    var { data, isError, isLoading, error } = useQuery({ queryKey: queryKey, queryFn: async () => await queryFunction() });\r\nconsole.log(data);\r\n    if (data && searchString !== \"\") {\r\n        data = data.filter((current) => {\r\n            console.log(current);\r\n            var valueToSearchIn = getSearchableValue(current).toLowerCase();\r\n            var valueToSearch = searchString.toLowerCase();\r\n            return valueToSearchIn.includes(valueToSearch);\r\n        })\r\n    }\r\n    if (selectedItem && DetailedElement) {\r\n        return (\r\n            <DetailedElement item={selectedItem} setSelectedItem={setSelectedItem} navigation={navigation} />\r\n        )\r\n    }\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <View  >\r\n                <LoadingSpinner />\r\n            </View >\r\n        )\r\n    }\r\n\r\n    if (isError) {\r\n        return (\r\n            <View >\r\n                <View role=\"alert\">\r\n                    <Text>Something Went Wrong</Text>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n    console.log(data);\r\n\r\n    if (data) {\r\n        return (\r\n            <View>\r\n                <View style={dataview.stickyInput} >\r\n                    <TextInput\r\n                        style={dataview.input}\r\n                        onChange={(e) => setSearchString(e.target.value)}\r\n                        placeholder=\"Search\"\r\n                    />\r\n                    {\r\n                        newDataButton ?\r\n                            <View style={dataview.textStyle}>\r\n                                <Text>{newDataButton}</Text>\r\n                            </View> : <View></View>\r\n                    }\r\n                </View>\r\n                <ScrollView  >\r\n                    <View style={dataview.heightAndOverflow}>\r\n                        <View >\r\n                            {\r\n                                data && data.length === 0 ?\r\n                                    <View style={dataview.card}>\r\n                                        <Text style={dataview.textStyle}>\r\n                                            No Data To Display\r\n                                        </Text>\r\n                                    </View>\r\n                                    :\r\n                                    <View >\r\n                                        {\r\n                                            data?.map((item, index) =>\r\n                                                <View style={dataview.cardContainer} key={index} >\r\n                                                    <Card item={item} navigation={navigation} setSelectedItem={setSelectedItem}></Card>\r\n                                                </View>\r\n                                            )\r\n                                        }\r\n                                    </View>\r\n                            }\r\n                        </View>\r\n                    </View>\r\n                </ScrollView>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DataView;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,cAAc;AAA0B,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAG/C,SAASC,YAAY,QAAQ,gCAAgC;AAAC,OAAAC,UAAA;AAE9D,SAASC,QAAQ;AAA6B,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAG9C,SAASC,QAAQA,CAAAC,IAAA,EAAmH;EAAA,IAAhHC,aAAa,GAAAD,IAAA,CAAbC,aAAa;IAAEC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IAAEC,kBAAkB,GAAAH,IAAA,CAAlBG,kBAAkB;IAAEC,IAAI,GAAAJ,IAAA,CAAJI,IAAI;IAAEC,eAAe,GAAAL,IAAA,CAAfK,eAAe;IAAEC,aAAa,GAAAN,IAAA,CAAbM,aAAa;IAAEC,aAAa,GAAAP,IAAA,CAAbO,aAAa;IAAEC,UAAU,GAAAR,IAAA,CAAVQ,UAAU;EAC5H,IAAAC,SAAA,GAAwCvB,QAAQ,CAAC,EAAE,CAAC;IAAAwB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7CG,YAAY,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EACpC,IAAAI,UAAA,GAAwC5B,QAAQ,CAAC6B,SAAS,CAAC;IAAAC,UAAA,GAAAL,cAAA,CAAAG,UAAA;IAApDG,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EAEpC,IAAAG,SAAA,GAA0ClC,QAAQ,CAAC;MAAEiB,QAAQ,EAAEA,QAAQ;MAAEkB,OAAO;QAAA,IAAAC,QAAA,GAAAC,iBAAA,CAAE;UAAA,aAAkBrB,aAAa,CAAC,CAAC;QAAA;QAAA,SAAAmB,QAAA;UAAA,OAAAC,QAAA,CAAAE,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAJ,OAAA;MAAA;IAAC,CAAC,CAAC;IAAhHK,IAAI,GAAAN,SAAA,CAAJM,IAAI;IAAEC,OAAO,GAAAP,SAAA,CAAPO,OAAO;IAAEC,SAAS,GAAAR,SAAA,CAATQ,SAAS;IAAEC,KAAK,GAAAT,SAAA,CAALS,KAAK;EACzCC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;EACb,IAAIA,IAAI,IAAIb,YAAY,KAAK,EAAE,EAAE;IAC7Ba,IAAI,GAAGA,IAAI,CAACM,MAAM,CAAC,UAACC,OAAO,EAAK;MAC5BH,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;MACpB,IAAIC,eAAe,GAAG9B,kBAAkB,CAAC6B,OAAO,CAAC,CAACE,WAAW,CAAC,CAAC;MAC/D,IAAIC,aAAa,GAAGvB,YAAY,CAACsB,WAAW,CAAC,CAAC;MAC9C,OAAOD,eAAe,CAACG,QAAQ,CAACD,aAAa,CAAC;IAClD,CAAC,CAAC;EACN;EACA,IAAIlB,YAAY,IAAIZ,eAAe,EAAE;IACjC,OACIT,IAAA,CAACS,eAAe;MAACgC,IAAI,EAAEpB,YAAa;MAACC,eAAe,EAAEA,eAAgB;MAACV,UAAU,EAAEA;IAAW,CAAE,CAAC;EAEzG;EAEA,IAAImB,SAAS,EAAE;IACX,OACI/B,IAAA,CAACN,IAAI;MAAAgD,QAAA,EACD1C,IAAA,CAACT,cAAc,IAAE;IAAC,CACf,CAAC;EAEhB;EAEA,IAAIuC,OAAO,EAAE;IACT,OACI9B,IAAA,CAACN,IAAI;MAAAgD,QAAA,EACD1C,IAAA,CAACN,IAAI;QAACiD,IAAI,EAAC,OAAO;QAAAD,QAAA,EACd1C,IAAA,CAACR,IAAI;UAAAkD,QAAA,EAAC;QAAoB,CAAM;MAAC,CAC/B;IAAC,CACL,CAAC;EAEf;EACAT,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;EAEjB,IAAIA,IAAI,EAAE;IAAA,IAAAe,KAAA;IACN,OACI1C,KAAA,CAACR,IAAI;MAAAgD,QAAA,GACDxC,KAAA,CAACR,IAAI;QAACmD,KAAK,EAAE/C,QAAQ,CAACgD,WAAY;QAAAJ,QAAA,GAC9B1C,IAAA,CAACP,SAAS;UACNoD,KAAK,EAAE/C,QAAQ,CAACiD,KAAM;UACtBC,QAAQ,EAAE,SAAAA,SAACC,CAAC;YAAA,OAAKhC,eAAe,CAACgC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;UAAA,CAAC;UACjDC,WAAW,EAAC;QAAQ,CACvB,CAAC,EAEE1C,aAAa,GACTV,IAAA,CAACN,IAAI;UAACmD,KAAK,EAAE/C,QAAQ,CAACuD,SAAU;UAAAX,QAAA,EAC5B1C,IAAA,CAACR,IAAI;YAAAkD,QAAA,EAAEhC;UAAa,CAAO;QAAC,CAC1B,CAAC,GAAGV,IAAA,CAACN,IAAI,IAAO,CAAC;MAAA,CAE7B,CAAC,EACPM,IAAA,CAACH,UAAU;QAAA6C,QAAA,EACP1C,IAAA,CAACN,IAAI;UAACmD,KAAK,EAAE/C,QAAQ,CAACwD,iBAAkB;UAAAZ,QAAA,EACpC1C,IAAA,CAACN,IAAI;YAAAgD,QAAA,EAEGb,IAAI,IAAIA,IAAI,CAAC0B,MAAM,KAAK,CAAC,GACrBvD,IAAA,CAACN,IAAI;cAACmD,KAAK,EAAE/C,QAAQ,CAAC0D,IAAK;cAAAd,QAAA,EACvB1C,IAAA,CAACR,IAAI;gBAACqD,KAAK,EAAE/C,QAAQ,CAACuD,SAAU;gBAAAX,QAAA,EAAC;cAEjC,CAAM;YAAC,CACL,CAAC,GAEP1C,IAAA,CAACN,IAAI;cAAAgD,QAAA,GAAAE,KAAA,GAEGf,IAAI,qBAAJe,KAAA,CAAMa,GAAG,CAAC,UAAChB,IAAI,EAAEiB,KAAK;gBAAA,OAClB1D,IAAA,CAACN,IAAI;kBAACmD,KAAK,EAAE/C,QAAQ,CAAC6D,aAAc;kBAAAjB,QAAA,EAChC1C,IAAA,CAACQ,IAAI;oBAACiC,IAAI,EAAEA,IAAK;oBAAC7B,UAAU,EAAEA,UAAW;oBAACU,eAAe,EAAEA;kBAAgB,CAAO;gBAAC,GAD7CoC,KAEpC,CAAC;cAAA,CACX;YAAC,CAEH;UAAC,CAEb;QAAC,CACL;MAAC,CACC,CAAC;IAAA,CACX,CAAC;EAEf;AACJ;AAEA,eAAevD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}